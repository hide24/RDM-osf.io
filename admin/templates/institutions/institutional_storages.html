{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block top_includes %}
<link rel="stylesheet" type="text/css" href="/static/css/carets.css"/>
{% endblock %}

{% block title %}
<title>{{ institution.name }} - {% trans 'Institutional storages' %}</title>
{% endblock title %}
{% block content %}
{% if institution.id %}
<h2>{% trans "Institutional Storages" %}<small>({{ institution.name }})</small></h2>
{% else %}
<h2>{% trans "Institutional Storages" %}</h2>
{% endif %}
{% include "util/pagination.html" with items=page status=status %}

<table class="table table-striped table-hover table-responsive">
    <thead>
    <tr>
        <th>{% trans "ID" %}</th>
        <th>
            {% trans "Provider" %}
            <a href="?order_by=provider&amp;status=desc&amp;page={{ page.number }}"
               class="caret caret-sort tb-sort-inactive"></a>
            <span class="dropup"><a href="?order_by=provider&amp;status=asc&amp;page={{ page.number }}"
                                    class="caret caret-sort tb-sort-inactive"></a></span>
        </th>
        <th>
            {% trans "Storage name" %}
            <a href="?order_by=name&amp;status=desc&amp;page={{ page.number }}"
               class="caret caret-sort tb-sort-inactive"></a>
            <span class="dropup"><a href="?order_by=name&amp;status=asc&amp;page={{ page.number }}"
                                    class="caret caret-sort tb-sort-inactive"></a></span>
        </th>
    </tr>
    </thead>
    <tbody>
    {% for storage in list_storage %}
    <tr>
        <td style="vertical-align:middle">
            <a class="btn btn-primary"
               href="{% url 'institutions:statistical_status_default_storage' %}?region_id={{storage.region_id}}">
                {{ storage.order_id }}
            </a>
        </td>
        <td style="vertical-align:middle">
            <img src="{{ storage.icon_url }}"/>
            <a style="color: #000000;"
               href="{% url 'institutions:statistical_status_default_storage' %}?region_id={{storage.region_id}}">
                {{ storage.provider }}
            </a>
        </td>
        <td style="vertical-align:middle">{{ storage.name }}</td>
    </tr>

    {% endfor %}
    </tbody>
</table>

{% if not list_storage|length %}
<h3>{% trans "No results found" %}</h3>
{% endif %}

{% endblock content %}
